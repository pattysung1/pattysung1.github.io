<!DOCTYPE html>
<html lang="zh-tw"><head>
  <meta charset="utf-8">
  <title>PattySung</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is Patty Sung&#39;s website.">
  <meta name="author" content="PattySung">
    
  
  <meta name="theme-name" content="liva-hugo" />
  
  <meta name="generator" content="Hugo 0.113.0">

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://pattysung1.github.io/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://pattysung1.github.io/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://pattysung1.github.io/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://pattysung1.github.io/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://pattysung1.github.io/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://pattysung1.github.io/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://pattysung1.github.io/images/favicon.png " type="image/x-icon">



<script async src="https://www.googletagmanager.com/gtag/js?id=G-VP4BXRRG1X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VP4BXRRG1X');
</script>

</head>
<body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://pattysung1.github.io"><img class="img-fluid"
          src="https://pattysung1.github.io/images/shinylogo.png" alt="PattySung"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="ti-facebook"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="ti-twitter-alt"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://instagram.com/pooh.travel.blog?igshid=MjEwN2IyYWYwYw=="><i class="ti-instagram"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/pattysung1"><i class="ti-github"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.linkedin.com/in/pei-hsuan-sung-4b3599153/"><i class="ti-linkedin"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://pattysung1.github.io"><img class="img-fluid"
            src="https://pattysung1.github.io/images/shinylogo.png" alt="PattySung"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://pattysung1.github.io/about/">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://pattysung1.github.io/works/">Works</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://pattysung1.github.io/travel/">Travel</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://pattysung1.github.io/contact/">Contact</a>
          </li>
          
          
        </ul>

        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-9 mx-auto">
        
        <a href="/categories/programming"
          class="text-primary">Programming</a>
        
        <h2>Leetcode-362. Design Hit Counter</h2>
        <div class="mb-3 post-meta">
          <span>By PattySung</span>
          
          <span class="border-bottom border-primary px-2 mx-1"></span>
          <span>28 January 2024</span>
          
        </div>
        
        <img src="https://pattysung1.github.io/images/leetcode.jpg" class="img-fluid w-80 mb-4" alt="Leetcode-362. Design Hit Counter">
        
        <div class="content mb-5">
          <p>Design a hit counter which counts the number of hits received in the past 5 minutes (i.e., the past 300 seconds).</p>
<p>Your system should accept a timestamp parameter (in seconds granularity), and you may assume that calls are being made to the system in chronological order (i.e., timestamp is monotonically increasing). Several hits may arrive roughly at the same time.</p>
<p>Implement the HitCounter class:</p>
<p>HitCounter() Initializes the object of the hit counter system.
void hit(int timestamp) Records a hit that happened at timestamp (in seconds). Several hits may happen at the same timestamp.
int getHits(int timestamp) Returns the number of hits in the past 5 minutes from timestamp (i.e., the past 300 seconds).</p>
<p>Example 1:</p>
<p>Input
[&ldquo;HitCounter&rdquo;, &ldquo;hit&rdquo;, &ldquo;hit&rdquo;, &ldquo;hit&rdquo;, &ldquo;getHits&rdquo;, &ldquo;hit&rdquo;, &ldquo;getHits&rdquo;, &ldquo;getHits&rdquo;]
[[], [1], [2], [3], [4], [300], [300], [301]]
Output
[null, null, null, null, 3, null, 4, 3]</p>
<p>Explanation
HitCounter hitCounter = new HitCounter();
hitCounter.hit(1);       // hit at timestamp 1.
hitCounter.hit(2);       // hit at timestamp 2.
hitCounter.hit(3);       // hit at timestamp 3.
hitCounter.getHits(4);   // get hits at timestamp 4, return 3.
hitCounter.hit(300);     // hit at timestamp 300.
hitCounter.getHits(300); // get hits at timestamp 300, return 4.
hitCounter.getHits(301); // get hits at timestamp 301, return 3.</p>
<h4 id="解題">&lt;解題&gt;</h4>
<p>在同一時間點擊多次，有更好的解如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#ef9f76;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JAVA" data-lang="JAVA"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">class</span> <span style="color:#e5c890">HitCounter</span> <span style="color:#99d1db">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#babbf1">Deque</span><span style="color:#99d1db">&lt;</span><span style="color:#babbf1">Pair</span><span style="color:#99d1db">&lt;</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">,</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">&gt;&gt;</span> <span style="color:#babbf1">deque</span><span style="color:#99d1db">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e5c890">int</span> <span style="color:#babbf1">total</span><span style="color:#99d1db">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ca9ee6">public</span> <span style="color:#99d1db">HitCounter</span><span style="color:#99d1db">()</span> <span style="color:#99d1db">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#babbf1">deque</span> <span style="color:#99d1db">=</span> <span style="color:#ca9ee6">new</span> <span style="color:#babbf1">LinkedList</span><span style="color:#99d1db">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#babbf1">total</span> <span style="color:#99d1db">=</span> 0<span style="color:#99d1db">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#99d1db">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#ca9ee6">public</span> <span style="color:#e5c890">void</span> <span style="color:#99d1db">hit</span><span style="color:#99d1db">(</span><span style="color:#e5c890">int</span> <span style="color:#babbf1">timestamp</span><span style="color:#99d1db">)</span> <span style="color:#99d1db">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ca9ee6">if</span><span style="color:#99d1db">(</span><span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">isEmpty</span><span style="color:#99d1db">()){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">add</span><span style="color:#99d1db">(</span><span style="color:#ca9ee6">new</span> <span style="color:#babbf1">Pair</span><span style="color:#99d1db">&lt;</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">,</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">&gt;(</span><span style="color:#babbf1">timestamp</span><span style="color:#99d1db">,</span>1<span style="color:#99d1db">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#99d1db">}</span> <span style="color:#ca9ee6">else</span><span style="color:#99d1db">{</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#ca9ee6">if</span><span style="color:#99d1db">(</span><span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">getLast</span><span style="color:#99d1db">().</span><span style="color:#e5c890">getKey</span><span style="color:#99d1db">()</span> <span style="color:#99d1db">==</span> <span style="color:#babbf1">timestamp</span><span style="color:#99d1db">){</span>
</span></span><span style="display:flex;"><span>                <span style="color:#e5c890">int</span> <span style="color:#babbf1">count</span> <span style="color:#99d1db">=</span> <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">getLast</span><span style="color:#99d1db">().</span><span style="color:#e5c890">getValue</span><span style="color:#99d1db">();</span>
</span></span><span style="display:flex;"><span>                <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">removeLast</span><span style="color:#99d1db">();</span>
</span></span><span style="display:flex;"><span>                <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">add</span><span style="color:#99d1db">(</span><span style="color:#ca9ee6">new</span> <span style="color:#babbf1">Pair</span><span style="color:#99d1db">&lt;</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">,</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">&gt;(</span><span style="color:#babbf1">timestamp</span><span style="color:#99d1db">,</span> <span style="color:#babbf1">count</span> <span style="color:#99d1db">+</span> 1<span style="color:#99d1db">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#99d1db">}</span> <span style="color:#ca9ee6">else</span><span style="color:#99d1db">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">add</span><span style="color:#99d1db">(</span><span style="color:#ca9ee6">new</span> <span style="color:#babbf1">Pair</span><span style="color:#99d1db">&lt;</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">,</span><span style="color:#babbf1">Integer</span><span style="color:#99d1db">&gt;(</span><span style="color:#babbf1">timestamp</span><span style="color:#99d1db">,</span>1<span style="color:#99d1db">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#99d1db">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#99d1db">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#babbf1">total</span><span style="color:#99d1db">++;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#99d1db">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#ca9ee6">public</span> <span style="color:#e5c890">int</span> <span style="color:#99d1db">getHits</span><span style="color:#99d1db">(</span><span style="color:#e5c890">int</span> <span style="color:#babbf1">timestamp</span><span style="color:#99d1db">)</span> <span style="color:#99d1db">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ca9ee6">while</span><span style="color:#99d1db">(!</span><span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">isEmpty</span><span style="color:#99d1db">()</span> <span style="color:#99d1db">&amp;&amp;</span> <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">getFirst</span><span style="color:#99d1db">().</span><span style="color:#e5c890">getKey</span><span style="color:#99d1db">()</span> <span style="color:#99d1db">+</span>300 <span style="color:#99d1db">&lt;=</span> <span style="color:#babbf1">timestamp</span><span style="color:#99d1db">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e5c890">int</span> <span style="color:#babbf1">count</span> <span style="color:#99d1db">=</span> <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">getFirst</span><span style="color:#99d1db">().</span><span style="color:#e5c890">getValue</span><span style="color:#99d1db">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#babbf1">deque</span><span style="color:#99d1db">.</span><span style="color:#e5c890">removeFirst</span><span style="color:#99d1db">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#babbf1">total</span> <span style="color:#99d1db">-=</span> <span style="color:#babbf1">count</span><span style="color:#99d1db">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#99d1db">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ca9ee6">return</span> <span style="color:#babbf1">total</span><span style="color:#99d1db">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#99d1db">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#99d1db">}</span>
</span></span></code></pre></div><p>Time: O(n)
Space: O(n)</p>

        </div>

        
        
      </div>
    </div>
  </div>
</section>



<footer class="text-capitalize">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 text-center mb-5">
        <br>
      </div>
               
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Contact Me</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="tel:a9870456321"><i
                class="ti-mobile mr-3 text-primary"></i>a9870456321</a></li>
          
                     
          <li class="mb-3"><i class="ti-location-pin mr-3 text-primary"></i>Taiwan</li>
          
                     
          <li class="mb-3"><a class="text-dark" href="mailto:sungpeihsuannccu@gmail.com"><i
                class="ti-email mr-3 text-primary"></i>sungpeihsuannccu@gmail.com</a>
          
          </li>
        </ul>
      </div>
      
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Social Contacts</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="#">facebook</a></li>
          
          <li class="mb-3"><a class="text-dark" href="#">twitter</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://instagram.com/pooh.travel.blog?igshid=MjEwN2IyYWYwYw==">instagram</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://github.com/pattysung1">github</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://www.linkedin.com/in/pei-hsuan-sung-4b3599153/">linkedin</a></li>
          
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Categories</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark"
              href="/categories/japan%e6%97%a5%e6%9c%ac/">Japan日本</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/programming/">Programming</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://pattysung1.github.io/about/">About</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://pattysung1.github.io/works/">Works</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://pattysung1.github.io/travel/">Travel</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://pattysung1.github.io/contact/">Contact</a></li>
          
        </ul>
      </div>
      <div class="col-12 border-top py-4 text-center">
        | copyright © 2023 <a href="https://pattysung1.github.io/">PattySung</a> All Rights Reserved |
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "https://pattysung1.github.io/index.json"
</script>

<!-- JS Plugins -->

<script src="https://pattysung1.github.io/plugins/jQuery/jquery.min.js"></script>

<script src="https://pattysung1.github.io/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://pattysung1.github.io/plugins/slick/slick.min.js"></script>

<script src="https://pattysung1.github.io/plugins/venobox/venobox.min.js"></script>

<script src="https://pattysung1.github.io/plugins/search/fuse.min.js"></script>

<script src="https://pattysung1.github.io/plugins/search/mark.js"></script>

<script src="https://pattysung1.github.io/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://pattysung1.github.io/js/script.min.js"></script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
<div id="js-cookie-box" class="cookie-box cookie-box-hide">
	This site uses cookies. By continuing to use this website, you agree to their use. <span id="js-cookie-button" class="btn btn-sm btn-primary ml-2">I Accept</span>
</div>
<script>
	(function ($) {
		const cookieBox = document.getElementById('js-cookie-box');
		const cookieButton = document.getElementById('js-cookie-button');
		if (!Cookies.get('cookie-box')) {
			cookieBox.classList.remove('cookie-box-hide');
			cookieButton.onclick = function () {
				Cookies.set('cookie-box', true, {
					expires:  2 
				});
				cookieBox.classList.add('cookie-box-hide');
			};
		}
	})(jQuery);
</script>


<style>
.cookie-box {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  text-align: center;
  z-index: 9999;
  padding: 1rem 2rem;
  background: rgb(71, 71, 71);
  transition: all .75s cubic-bezier(.19, 1, .22, 1);
  color: #fdfdfd;
}

.cookie-box-hide {
  display: none;
}
</style>
</body>
</html>